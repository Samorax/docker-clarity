<div>
    <clr-modal [(clrModalOpen)]="show" clrModalSize="xl" [clrModalStaticBackdrop]="true" [clrModalClosable]="false">
        <h3 class="modal-title" clrModalTitle>Sessions</h3>
        <div class="modal-body" clrModalContent>
          <form clrForm  #sessionForm="ngForm">
            <clr-select-container>
              <label>Select Type</label>
              <select clrSelect #select  (change)=onChangeSessionType(select.value)>
                <option value="Takeaway">Takeaway</option>
                <option value="Dine-In">Dine-In</option>
              </select>
            </clr-select-container>
            <div *ngIf="showDineInSessionForm">
              <clr-select-container>
                <label>Select Table</label>
                <select clrSelect name="name" #select [(ngModel)]="table.name" [value]="table?.name" (change)="onChangeSessionTable(select.value)" >
                  <option *ngFor="let t of tables" value="{{t.name}}">{{t.name}}</option>
                </select>
              </clr-select-container>
              <clr-select-container>
                <label>Select Waiter</label>
                <select clrSelect name="waiterName" #selectwaiter [(ngModel)]="waiter.name" [value]="waiter?.name" (change)="onChangeSessionWaiter(selectwaiter.value)">
                  <option *ngFor="let w of waiters"  value="{{w.name}}">{{w.name}}</option>
                </select>
              </clr-select-container>
            </div>
            
          </form>
            <div class="clr-row">
                <div class="clr-col-8">
                    <h3>Select Product(s)</h3>
                    <div class="cart-container">
                      <div class="card clickable" *ngFor='let stock of stocks | async'  (click)="onSelect(stock)" class="clr-col-lg-3 cart-item-container" > 
                        <div class="card-media-block wrap">
                          <div class="card-media-image">
                            <img [src]="stock.product?.photosUrl" alt="..."  class="card-img" style="height: 100%;width: 100%;"/>
                          </div>
                          <div class="card-media-description">
                            <div class="card-media-title">{{stock.product?.name}}</div>
                            <div class="card-media-text">{{stock.product?.price | currency: currencySymbol}}</div>
                            <div class="card-media-text alert-danger" *ngIf="stock.remainingUnits === 0">Out-Of-Stock</div>
                          </div>
                          
                        </div>
                      </div>
                    </div>
                        
                  <!--   <li *ngFor='let product of products' (click)="onSelect(product)">
                        {{product.name}}
                      </li> -->
                </div>
              <div class="clr-col-4">
                <order-EditCart [Products]="selected" [stocks]="stocks" [order]="order"  [SubTotal]="totalAmount" [CartItems]="cartitems" [tableSession]="tableSession"  [table]="table"  [sessionType]="sessionType"></order-EditCart>
            </div>
            </div>
           
        </div>
        <div class="modal-footer" clrModalActions>
          <button class="btn btn-outline" (click)="show=false">Close</button>
        </div>
      </clr-modal>
</div>


